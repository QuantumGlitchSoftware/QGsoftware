<!DOCTYPE html>
<html>
	<!--XOR created by QuantumGlitchSoftware-->
	<head>
		<link href='https://fonts.googleapis.com/css?family=Aldrich' rel='stylesheet'>
        <style>
			
            tr, td {
				border: 1px solid white;
                height: 60px;
                width: 60px;
            }
            
            * {
                color: white;
                background-color: black;
                font-family: Aldrich;
                
            }
            
            #completion {
                width: 655px;
                height: 60px;
                font-size: 40px;
            }
            
            #level {
                width: 90px;
                text-align: center;
            }
            
            #grid, #sidebar, #topbar, #levelbar{
                display: inline-block;
            }
        
            #sidebar2 {
                height: 390px;
                width: 90px;
            }
            
            #side {
                color: blue;
                font-size: 30px;
                text-align: center;
            }
            #eSide {
                color: red;
                font-size: 30px;
                text-align: center;
            }
        </style>
	</head>
	<body>
		<h1>XOR</h1>
		
        <table id="levelbar">
            <tr>
                <td id="level">LEVEL: 0</td>
            </tr>
        </table>
        <table id="topbar">
            <tr>
                <td id="completion"></td>
            </tr>
        </table>
        <br>
        
        <!--Sidebar-->
        <table id="sidebar">
            <tr>
                <td id="sidebar2">
                    <p id="side">0,0</p>
                    <p id="eSide">9,5</p>
                </td>
            </tr>
        </table>
        
        <!--Grid-->
        <table id="grid">
			
            <!--row 5-->
            <tr>
                <td id="p0-5"></td>
				<td id="p1-5"></td>
                <td id="p2-5"></td>
                <td id="p3-5"></td>
                <td id="p4-5"></td>
                <td id="p5-5"></td>
                <td id="p6-5"></td>
                <td id="p7-5"></td>
                <td id="p8-5"></td>
                <td id="p9-5"></td>
            </tr>
			
            <!--row 4-->
            <tr>
				<td id="p0-4"></td>
				<td id="p1-4"></td>
                <td id="p2-4"></td>
                <td id="p3-4"></td>
                <td id="p4-4"></td>
                <td id="p5-4"></td>
                <td id="p6-4"></td>
                <td id="p7-4"></td>
                <td id="p8-4"></td>
                <td id="p9-4"></td>
            </tr>
            
            <!--row 3-->
            <tr>
                <td id="p0-3"></td>
                <td id="p1-3"></td>
                <td id="p2-3"></td>
                <td id="p3-3"></td>
                <td id="p4-3"></td>
                <td id="p5-3"></td>
                <td id="p6-3"></td>
                <td id="p7-3"></td>
                <td id="p8-3"></td>
                <td id="p9-3"></td>
            </tr>
            
            <!--row 2-->
            <tr>
                <td id="p0-2"></td>
                <td id="p1-2"></td>
                <td id="p2-2"></td>
                <td id="p3-2"></td>
                <td id="p4-2"></td>
                <td id="p5-2"></td>
                <td id="p6-2"></td>
                <td id="p7-2"></td>
                <td id="p8-2"></td>
                <td id="p9-2"></td>
            </tr>
            
            <!--row 1-->
            <tr>
                <td id="p0-1"></td>
                <td id="p1-1"></td>
                <td id="p2-1"></td>
                <td id="p3-1"></td>
                <td id="p4-1"></td>
                <td id="p5-1"></td>
                <td id="p6-1"></td>
                <td id="p7-1"></td>
                <td id="p8-1"></td>
                <td id="p9-1"></td>
            </tr>
            
            <!--row 0-->
            <tr>
                <td id="p0-0"></td>
                <td id="p1-0"></td>
                <td id="p2-0"></td>
                <td id="p3-0"></td>
                <td id="p4-0"></td>
                <td id="p5-0"></td>
                <td id="p6-0"></td>
                <td id="p7-0"></td>
                <td id="p8-0"></td>
                <td id="p9-0"></td>
            </tr>
        </table>
		
        <script>
//XOR developed by SUPERGLITCHED posted to QUANTUMGLITCHSOFTWARE.GITHUB.IO

//BLUE SQUARE MOVEMENT
        //set the blue starting coordinates
        //blue position
        var pos = "p0-0";
		//blue position on X axis
        var xPos = 0;
		//blue position on Y axis
        var yPos = 0;
        
        //detect when a key is pressed
        window.addEventListener("keyup", checkKeyPressed, false);
        function checkKeyPressed(e) {
            
            //test for which key pressed and set coordinates
            if (e.keyCode == "40") {
                //go down
                yPos = yPos - 1;
            } else if (e.keyCode == "39") {
                //go right
                xPos = xPos + 1;
            } else if (e.keyCode == "38") {
                //go up
                yPos = yPos + 1;
            } else if (e.keyCode == "37") {
                //go left
                xPos = xPos - 1;
            }
            
            //collision detection top
            if (yPos > 5) {
                yPos = 5;
            }
            
            //collision detection bottom
            if (yPos < 0) {
                yPos = 0;
            }
            
            //collision detection left
            if (xPos < 0) {
                xPos = 0;
            }
            
            //collision detection right
            if (xPos > 9) {
                xPos = 9;
            }
            
            //puts X and Y coordinates together blue square
            pos = "p" + xPos + "-" + yPos;
            
            //sets sidebar coordinates
            var sideBarPosition = xPos + "," + yPos;
            document.getElementById("side").innerHTML = sideBarPosition;
            
            //color function
            color(); 
        }
		
        
//ENEMY 1 MOVEMENT
        var enemyInterval;
        var enemyPosition = "p9-5";
        var enemyPositionXAxis = 9;
        var enemyPositionYAxis = 5;
        
        //set interval for enemy movement function every half second
        enemyInterval = setInterval(eMove, 500);
        function eMove() {
            
            //genarates random number from 0-1
            var chance = Math.floor(Math.random() * 2);
            
            //move towards player on X axis if chance = 0
            if (chance === 0) {
                if (enemyPositionXAxis < xPos) {
                    enemyPositionXAxis = enemyPositionXAxis + 1;
                } else if (enemyPositionXAxis > xPos) {
                    enemyPositionXAxis = enemyPositionXAxis - 1;
                } else {
                    stalemate();
                }
            } 
            //move towards player on Y axis if chance = 1
            else if (chance === 1) {
                if (enemyPositionYAxis < yPos) {
                    enemyPositionYAxis = enemyPositionYAxis + 1;
                } else if (enemyPositionYAxis > yPos) {
                    enemyPositionYAxis = enemyPositionYAxis - 1;
                } else {
                    stalemate();
                }
            }
            
            
            //stalemate function moves enemy towards the player on the other axis if they are already on the same chosen axis
            function stalemate() {
                if (chance === 0) {
                    if (enemyPositionYAxis < yPos) {
                        enemyPositionYAxis = enemyPositionYAxis + 1;
                    } else if (enemyPositionYAxis > yPos) {
                        enemyPositionYAxis = enemyPositionYAxis - 1;
                    }
                } else {
                    if (enemyPositionXAxis < xPos) {
                        enemyPositionXAxis = enemyPositionXAxis + 1;
                    } else if (enemyPositionXAxis > xPos) {
                        enemyPositionXAxis = enemyPositionXAxis - 1;
                    }
                }
            }
            
            //add enemy coordinates
            enemyPosition = "p" + enemyPositionXAxis + "-" + enemyPositionYAxis;
            
            //sidebar
            var eSideBarPosition = enemyPositionXAxis + "," + enemyPositionYAxis;
            document.getElementById("eSide").innerHTML = eSideBarPosition;
            
            //color function
            color();
        }
        
        
//LEVEL COUNTER / COMPLETION BAR
        var completionPercent = "";
        var levelDisplay = "Level: 0";
        var level = 0;
        var timer = setInterval(timerFunc, 1000);
        function timerFunc() {
            completionPercent = completionPercent + "|";
            document.getElementById("completion").innerHTML = completionPercent;
            if (completionpercent === "||||||||||||||||||||||||||||||||||||||||||||||||||||||||||") {
                
                //reset bar
                completionpercent = "";
                
                //change level
                level = level + 1;
                levelDisplay = "LEVEL: " + level;
                document.getElementById("level").innerHTML = levelDisplay;
            }
        }
//ENEMY COLLISIONS
        /*while (enemyPosition === pos) {
                alert("GAME OVER");
        }*/
        
//Visual Movment
        var movementLoop;
        var x = document.getElementsByTagName("td");
            
        color();
        function color() {
            var movementLoop;
            for (movementLoop = 0; movementLoop < 63; movementLoop++) {
                x[movementLoop].style.backgroundColor = "black";
            }
            
            document.getElementById(pos).style.backgroundColor = "blue";
            document.getElementById(enemyPosition).style.backgroundColor = "red";
        }
        </script>
    </body>
</html>